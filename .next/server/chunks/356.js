"use strict";exports.id=356,exports.ids=[356],exports.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},9703:(e,t,s)=>{s.d(t,{Z:()=>a});let a={src:"/_next/static/media/WhatsApp.23140897.png",height:1850,width:1850,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA00lEQVR42mMAAY+r4YwFG6oZJ7yaKsAABZGPUpkY0IHpPS+tuMeZUQZPXBVA/LCniUwMEx9MZ2JYysCYeC23aPaTBWdXvFrzf9qr2ZeNHrspwXWqn3Cqn3B72v+Dr4/8T7qV+2vhi6X/J7ycOgmuwOqo786JN6b9X/pg5fc1Tzf8Wvx0xf/+J1POM6xnYGMAg3UM2n1Xpvyfd2fR/1UP1/1f+mjl/+gb6ZsZQKD1ag8jiPY5HLU4/0zF/Y5r/cUu50PDXS+EqTJgADOQkQigd9GNEQAb+lzO5L7W1gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},753:(e,t,s)=>{s.d(t,{Z:()=>a});let a={src:"/_next/static/media/logo.f99e1c8b.jpeg",height:1280,width:1046,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgABwMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABwEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAAngOr/8QAHRABAQABBAMAAAAAAAAAAAAAAgEDAAQFEzEyYf/aAAgBAQABPwAPYDj524saKh9Xa655vzX/xAAbEQACAQUAAAAAAAAAAAAAAAABAhIAESIxsf/aAAgBAgEBPwCEyxLMMjo25X//xAAbEQACAQUAAAAAAAAAAAAAAAABAgAREjEysf/aAAgBAwEBPwAvaFAVdRkV7P/Z",blurWidth:7,blurHeight:8}},8141:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=s(167),r=s(997),o=a._(s(6689)),n=s(5782);async function l(e){let{Component:t,ctx:s}=e;return{pageProps:await (0,n.loadGetInitialProps)(t,s)}}class i extends o.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,r.jsx)(e,{...t})}}i.origGetInitialProps=l,i.getInitialProps=l,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8959:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(997);s(6689);let r={src:"/_next/static/media/Facebook.04f51598.png",height:2048,width:2048,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAsklEQVR42mOAAeu800yGclMZQWyXqqtMDMjAt/wsWGLL5f/MOfNeMYPYIQ1XwWIMFulHwIypy++zCKWcLnAov7w3oPmmBUjMtRpq0qTph9gZ/Pftaplx5f/GvU//K+VduvT//3+ENX0zT3Iz2G9/cPrC8/+HT7/4zxB/6n969w1lsKRh9C4WBjBYHrdw9dX/a7bfO8XgeLDn+OXPrAxogHnu8ks6////Z2MgBBqmX2OBsQGe8kh/F8+UYgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};var o=s(9703);let n=()=>a.jsx("div",{className:" p-6",children:(0,a.jsxs)("footer",{className:"bg-orange-400 rounded-2xl text-white mt-10 p-6",children:[a.jsx("h2",{className:"text-3xl p-4 font-bold text-center",children:"Contact Us"}),a.jsx("p",{className:"text-lg font-bold text-center",children:"077 304 3667"}),a.jsx("p",{className:"text-lg font-bold text-center",children:"slgaminghub09@gmail.com"}),(0,a.jsxs)("div",{className:"flex justify-center gap-6 mt-4",children:[a.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:r,alt:"Facebook",className:"w-12 h-12 hover:scale-110 transition duration-300"})}),a.jsx("a",{href:"https://wa.me/+94773043667?text=Hi!_I_need_help_with_SLGamingHub_ID_Topup_Center_services.*",target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:o.Z,alt:"WhatsApp",className:"w-12 h-12 hover:scale-110 transition duration-300"})})]}),(0,a.jsxs)("div",{className:"mt-6 text-lg font-bold text-center pb-6",children:[a.jsx("p",{children:"Thank you for visiting SL Gaming Hub"}),a.jsx("p",{children:"We hope you find the perfect package for your gaming needs!"}),a.jsx("p",{children:"Happy Gaming!"})]})]})})},2858:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>g});var r=s(997),o=s(6689),n=s(753),l=s(7118),i=s(4915),d=s(2832),c=s(4661),u=s(4899),m=e([l,i,d]);[l,i,d]=m.then?(await m)():m;let g=function(){let[e,t]=(0,o.useState)(!1),[s,a]=(0,o.useState)((0,u.jl)()),[m,g]=(0,o.useState)((0,u.vW)()),[x,h]=(0,o.useState)((0,u.GJ)()),p=()=>t("register"),f=()=>t("login"),A=()=>t("reset"),b=()=>t(!1);return r.jsx("header",{className:"bg-gray-900 text-white shadow-md",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between p-4",children:[(0,r.jsxs)(c.Link,{to:"/",className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",children:[r.jsx("img",{src:n.Z,alt:"Logo",className:"w-12 h-12 rounded-full border-2 border-white"}),r.jsx("span",{className:"text-lg font-bold",children:"SL Gaming Hub"})]}),r.jsx("div",{className:"flex items-center",children:s?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[x&&r.jsx(c.Link,{to:"/admin/Order",className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold transition",children:"Admin Panel"}),(0,r.jsxs)("div",{className:"text-orange-400 font-medium mr-3",children:["Welcome, ",m||"User"]}),r.jsx("button",{onClick:()=>{(0,u.kS)()},className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition",children:"Logout"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition",children:"Login"}),r.jsx("button",{onClick:p,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg font-semibold transition ml-2",children:"Register"})]})}),"login"===e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-lg p-6 relative",children:[r.jsx("button",{className:"absolute top-2 right-2 text-white bg-red-600 rounded-full px-2 py-1",onClick:b,children:"✕"}),r.jsx(i.Z,{onClose:b,onShowRegister:p,onShowReset:A})]})}),"register"===e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-lg p-6 relative",children:[r.jsx("button",{className:"absolute top-2 right-2 text-white bg-red-600 rounded-full px-2 py-1",onClick:b,children:"✕"}),r.jsx(l.Z,{onClose:b,onShowLogin:f,onShowReset:A})]})}),"reset"===e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-lg p-6 relative",children:[r.jsx("button",{className:"absolute top-2 right-2 text-white bg-red-600 rounded-full px-2 py-1",onClick:b,children:"✕"}),r.jsx(d.Z,{onClose:b,onShowLogin:f,onShowRegister:p})]})})]})})};a()}catch(e){a(e)}})},4915:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>u});var r=s(997),o=s(6689),n=s(4661),l=s(9648),i=s(4899),d=s(8808);s(2603);var c=e([l]);function u({onClose:e,onShowRegister:t,onShowReset:s}){let[a,c]=(0,o.useState)(""),[u,m]=(0,o.useState)(""),[g,x]=(0,o.useState)(!1),[h,p]=(0,o.useState)(!1),[f,A]=(0,o.useState)(""),b=(0,n.useNavigate)(),y=(0,n.useLocation)(),j=y.state?.from||"/",N=()=>{"function"==typeof e&&e()},w=async()=>{if(!a||!u){A("Please fill in both fields");return}try{let e;p(!0),A("");let t={email:a,password:u};console.log("Attempting login with:",t);try{e=await l.default.post((0,d.kG)("/api/users/auth/login"),t)}catch(s){console.error("First login attempt failed:",s);try{e=await l.default.post((0,d.kG)("/api/auth/login"),t)}catch(e){throw console.error("Second login attempt failed:",e),s}}if(console.log("Login response:",e.data),!e.data.token)throw Error("No token received from server");console.log("Token received:",e.data.token.substring(0,20)+"...");let s=!1,r="user",o="",n={};if(e.data.user)e.data.user.role&&(r=e.data.user.role,s="admin"===r,n.role=r),(o=e.data.user.name||e.data.user.firstName||e.data.user.fullName||e.data.user.username||"")&&(n.name=o);else if(e.data.role)r=e.data.role,s="admin"===r,n.role=r,(o=e.data.name||e.data.firstName||e.data.fullName||e.data.username||"")&&(n.name=o);else try{let t=(0,i.TD)(e.data.token);console.log("Decoded token:",t),t&&(t.role&&(r=t.role,s="admin"===r,n.role=r),(o=t.name||t.firstName||t.fullName||t.username||"")&&(n.name=o))}catch(e){console.error("Error decoding token:",e)}(0,i.x4)(e.data.token,n),s?(alert("Admin login successful!"),N(),b("/admin/Order")):(alert("Login successful!"),N(),b(j)),setTimeout(()=>{window.location.reload()},100)}catch(e){console.error("Login error:",e),e.response?(console.error("Response data:",e.response.data),console.error("Response status:",e.response.status),console.error("Response headers:",e.response.headers),A(e.response.data?.message||`Server error: ${e.response.status}`)):e.request?(console.error("No response received:",e.request),A("No response from server. Please check your connection.")):(console.error("Error setting up request:",e.message),A(`Login failed: ${e.message}`))}finally{p(!1)}},v="function"==typeof e;return(0,r.jsxs)("div",{className:"max-w-md w-full mx-auto bg-gray-900 bg-opacity-90 text-white rounded-xl shadow-lg p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-300",children:"Welcome to"}),r.jsx("h1",{className:"text-2xl font-bold text-orange-400",children:"SL Gaming Hub"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Phone Number or Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",placeholder:"Phone number or Email",value:a,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:g?"text":"password",placeholder:"Password",value:u,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-orange-400"}),r.jsx("span",{className:"absolute right-3 top-2.5 cursor-pointer text-gray-400 hover:text-white",onClick:()=>x(!g),children:"\uD83D\uDC41"})]})]}),f&&r.jsx("p",{className:"text-red-400 text-sm",children:f}),(0,r.jsxs)("div",{className:v?"flex justify-between gap-3":"",children:[r.jsx("button",{className:"w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg font-semibold disabled:opacity-50",onClick:w,disabled:h,children:h?"Logging in...":"Login"}),v&&r.jsx("button",{className:"w-full px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg font-semibold",onClick:N,children:"Close"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 my-4",children:[r.jsx("h3",{className:"text-center text-yellow-400 font-medium mb-2",children:"Test Accounts"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-3 rounded",children:[r.jsx("h4",{className:"text-green-400 font-medium mb-1",children:"Regular User"}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Email: ",r.jsx("span",{className:"text-white",children:"user@mail.com"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Password: ",r.jsx("span",{className:"text-white",children:"user@123"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-3 rounded",children:[r.jsx("h4",{className:"text-blue-400 font-medium mb-1",children:"Admin User"}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Email: ",r.jsx("span",{className:"text-white",children:"admin@mail.com"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Password: ",r.jsx("span",{className:"text-white",children:"admin@123"})]})]})]})]}),(0,r.jsxs)("div",{className:"text-center space-y-2 mt-4",children:[r.jsx(n.Link,{to:"/auth/reset",className:"text-blue-400 hover:underline text-sm block",children:"Forgot password?"}),(0,r.jsxs)("div",{className:"text-gray-400 text-sm",children:["Don't have an account?"," ",r.jsx(n.Link,{to:"/auth/register",className:"text-blue-400 hover:underline",children:"Register"})]})]})]})}l=(c.then?(await c)():c)[0],a()}catch(e){a(e)}})},8651:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>c});var r=s(997),o=s(6689),n=s(9648),l=s(4661),i=s(8808),d=e([n]);function c({userId:e,onClose:t}){let[s,a]=(0,o.useState)(""),[d,c]=(0,o.useState)(!1),[u,m]=(0,o.useState)(""),g=(0,l.useNavigate)(),x=async()=>{if(!s.trim()){m("❌ Please enter OTP");return}c(!0);try{let a={tempUserId:e,code:s};console.log("Submitting OTP data:",a);let r=await n.default.post((0,i.kG)("/api/users/email_verfy"),a);console.log(r.data),console.log(e),r.data?(r.data.token&&(localStorage.setItem("token",r.data.token),console.log("Token saved from OTP verification")),m("✅ OTP Verified! Account Activated."),setTimeout(()=>{t(),g("/"),window.location.reload()},2e3)):m(" Invalid OTP, try again.")}catch(e){m(" Error verifying OTP")}c(!1)};return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50",children:(0,r.jsxs)("div",{className:"max-w-md w-full mx-auto bg-gray-900 text-white rounded-xl shadow-lg p-6 space-y-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-300",children:"Enter OTP"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Please enter the OTP sent to your email."}),r.jsx("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"Enter OTP",className:"w-full p-2 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"}),r.jsx("button",{className:"w-full px-4 py-2 bg-orange-400 hover:bg-orange-500 rounded-lg font-semibold",onClick:x,disabled:d,children:d?"Verifying...":"Submit OTP"}),u&&r.jsx("p",{className:"text-center text-sm",children:u}),r.jsx("button",{onClick:t,className:"w-full px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg font-semibold",children:"Close"})]})})}n=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},7118:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>u});var r=s(997),o=s(6689),n=s(4661),l=s(9648),i=s(8651),d=s(8808),c=e([l,i]);function u({onClose:e,onShowLogin:t,onShowReset:s}){let[a,c]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),[g,x]=(0,o.useState)(!1),[h,p]=(0,o.useState)(!1),[f,A]=(0,o.useState)(null),[b,y]=(0,o.useState)("");(0,n.useNavigate)();let[j,N]=(0,o.useState)({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:"",role:"customer"}),w=e=>{let{name:t,value:s}=e.target;N(e=>({...e,[t]:s})),y("")};async function v(e){if(e.preventDefault(),!j.firstName||!j.lastName||!j.email||!j.phone||!j.password||!j.confirmPassword){y("Please fill all required fields!");return}if(j.password!==j.confirmPassword){y("Passwords do not match!");return}p(!0),y("");try{console.log("Attempting registration with:",{name:`${j.firstName} ${j.lastName}`,email:j.email,phone:j.phone});let e=await l.default.post((0,d.kG)("/api/users/auth/register"),{name:`${j.firstName} ${j.lastName}`,email:j.email,password:j.password,confirmPassword:j.confirmPassword,phone:j.phone,role:j.role});e.data&&(console.log("Registration response:",e.data),alert("Registration successful! Please check your email for OTP."),A(e.data.tempUserId),x(!0),N({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:"",role:"customer"}))}catch(e){console.error("Registration error:",e),e.response?(console.error("Response data:",e.response.data),console.error("Response status:",e.response.status),y(e.response.data?.message||e.response.data?.error||`Server error: ${e.response.status}`)):e.request?(console.error("No response received:",e.request),y("No response from server. Please check your connection.")):(console.error("Error setting up request:",e.message),y(`Registration failed: ${e.message}`))}p(!1)}return(0,r.jsxs)("div",{className:"max-w-md w-full mx-auto bg-gray-900 bg-opacity-90 text-white rounded-xl shadow-lg p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-300",children:"Welcome to"}),r.jsx("h1",{className:"text-2xl font-bold text-orange-400",children:"SL Gaming Hub"})]}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:["function"==typeof t&&(0,r.jsxs)("div",{className:"flex justify-center gap-3 mb-4",children:[r.jsx("button",{type:"button",className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg font-semibold",onClick:t,children:"Login"}),"function"==typeof s&&r.jsx("button",{type:"button",className:"px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg font-semibold",onClick:s,children:"Reset"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["First Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"firstName",value:j.firstName,onChange:w,placeholder:"First name",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Last Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"lastName",value:j.lastName,onChange:w,placeholder:"Last name",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",name:"email",value:j.email,onChange:w,placeholder:"Email address",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Phone ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"phone",value:j.phone,onChange:w,placeholder:"Phone number",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:a?"text":"password",name:"password",value:j.password,onChange:w,placeholder:"Create password",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"}),r.jsx("span",{className:"absolute right-3 top-2.5 cursor-pointer text-gray-400 hover:text-white",onClick:()=>c(!a),children:"\uD83D\uDC41"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Confirm Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:u?"text":"password",name:"confirmPassword",value:j.confirmPassword,onChange:w,placeholder:"Confirm password",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"}),r.jsx("span",{className:"absolute right-3 top-2.5 cursor-pointer text-gray-400 hover:text-white",onClick:()=>m(!u),children:"\uD83D\uDC41"})]})]}),b&&r.jsx("p",{className:"text-red-400 text-sm",children:b}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg font-semibold disabled:opacity-50",disabled:h,children:h?"Registering...":"Register"}),"function"==typeof e&&r.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg font-semibold",onClick:()=>{"function"==typeof e&&e()},disabled:h,children:"Close"})]})]}),r.jsx("div",{className:"text-center space-y-2 mt-4",children:(0,r.jsxs)("div",{className:"text-gray-400 text-sm",children:["Already have an account?"," ",r.jsx(n.Link,{to:"/auth/login",className:"text-blue-400 hover:underline",children:"Login"})]})}),g&&r.jsx(i.Z,{userId:f,onClose:()=>x(!1)})]})}[l,i]=c.then?(await c)():c,a()}catch(e){a(e)}})},2832:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>c});var r=s(997),o=s(6689),n=s(4661),l=s(9648),i=s(8808),d=e([l]);function c({onClose:e,onShowLogin:t,onShowRegister:s}){let[a,d]=(0,o.useState)(""),[c,u]=(0,o.useState)(!1),m=async()=>{if(!a){alert("Please enter your email or phone number.");return}try{u(!0);let e=await l.default.post((0,i.kG)("/api/auth/send-otp"),{emailOrPhone:a});e.data.success?(alert("OTP sent successfully!"),console.log("Response:",e.data)):alert(e.data.message||"Something went wrong.")}catch(e){console.error(e),alert(e.response?.data?.message||"Failed to send OTP.")}finally{u(!1)}};return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50",children:(0,r.jsxs)("div",{className:"w-full max-w-sm bg-gradient-to-b from-purple-900 to-purple-950 text-white rounded-2xl shadow-2xl p-6 relative",children:[r.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-white hover:text-red-400 text-xl",children:"✕"}),r.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Reset Password"}),r.jsx("p",{className:"text-center text-gray-300 text-sm mb-4",children:"Enter your email or phone to receive an OTP."}),(0,r.jsxs)("div",{className:"flex justify-center gap-2 mb-6",children:[r.jsx(n.Link,{to:"/auth/Login",children:r.jsx("button",{onClick:t,className:"px-4 py-2 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 text-white font-semibold text-sm",children:"Login"})}),r.jsx(n.Link,{to:"/auth/Register",children:r.jsx("button",{onClick:s,className:"px-4 py-2 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 text-white font-semibold text-sm",children:"Register"})})]}),(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Email or Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:a,onChange:e=>d(e.target.value),placeholder:"Enter your email or phone",className:"w-full p-3 rounded-lg mb-4 text-black"}),r.jsx("button",{onClick:m,disabled:c,className:`w-full py-3 rounded-lg text-white font-bold ${c?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-purple-500"}`,children:c?"Sending...":"Send OTP"}),r.jsx("p",{onClick:t,className:"text-center text-sm mt-3 text-gray-300 cursor-pointer hover:underline",children:"Back to Login"})]})})}l=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},2603:(e,t,s)=>{s.d(t,{Hz:()=>o});let a=process.env.NEXT_PUBLIC_API_URL||"/api",r={auth:{login:`${a}/auth/login`,register:`${a}/auth/register`,logout:`${a}/auth/logout`,verify:`${a}/auth/verify`},users:`${a}/users`,games:`${a}/games`,packages:`${a}/packages`,orders:`${a}/orders`},o={API_BASE_URL:a,API_ENDPOINTS:r,LOGGING_ENABLED:"true"===process.env.VITE_API_LOGGING}},8808:(e,t,s)=>{s.d(t,{NU:()=>o,kG:()=>r});let a=process.env.NEXT_PUBLIC_API_URL||"/api",r=e=>`${a}/${e}`,o=e=>{let t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t}},4899:(e,t,s)=>{s.d(t,{GJ:()=>d,TD:()=>a,jl:()=>n,kS:()=>o,vW:()=>i,x4:()=>r});let a=e=>{try{let t;if(!e||"string"!=typeof e||!e.includes("."))return console.error("Invalid token format:",e),null;let s=e.split(".");if(3!==s.length)return console.error("Token does not have three parts:",e),null;let a=s[1].replace(/-/g,"+").replace(/_/g,"/");try{let e=atob(a);t=decodeURIComponent(Array.from(e).map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch(r){console.error("Base64 decoding failed:",r);let e=window.atob(a),s=new Uint8Array(e.length);for(let t=0;t<e.length;++t)s[t]=e.charCodeAt(t);t=new TextDecoder().decode(s)}return JSON.parse(t)}catch(e){return console.error("Error decoding token:",e),null}},r=(e,t={})=>{localStorage.setItem("token",e),t.role&&localStorage.setItem("userRole",t.role),t.name&&localStorage.setItem("userName",t.name),window.dispatchEvent(new CustomEvent("authChange",{detail:{isLoggedIn:!0}}))},o=()=>{localStorage.removeItem("token"),localStorage.removeItem("userName"),localStorage.removeItem("userRole"),window.dispatchEvent(new CustomEvent("authChange",{detail:{isLoggedIn:!1}}))},n=()=>!!localStorage.getItem("token"),l=()=>localStorage.getItem("userRole")||"user",i=()=>localStorage.getItem("userName")||"",d=()=>"admin"===l()},5244:(e,t)=>{var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))}};