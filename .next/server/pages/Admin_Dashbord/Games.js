"use strict";(()=>{var e={};e.id=262,e.ids=[262,660],e.modules={1323:(e,a)=>{Object.defineProperty(a,"l",{enumerable:!0,get:function(){return function e(a,t){return t in a?a[t]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,t)):"function"==typeof a&&"default"===t?a:void 0}}})},4689:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>f,default:()=>u,getServerSideProps:()=>b,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>x,routeModule:()=>j,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>I,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>y});var s=t(7093),n=t(5244),l=t(1323),o=t(1682),i=t.n(o),d=t(8141),c=t.n(d),m=t(8821),g=e([m]);m=(g.then?(await g)():g)[0];let u=(0,l.l)(m,"default"),p=(0,l.l)(m,"getStaticProps"),h=(0,l.l)(m,"getStaticPaths"),b=(0,l.l)(m,"getServerSideProps"),f=(0,l.l)(m,"config"),x=(0,l.l)(m,"reportWebVitals"),y=(0,l.l)(m,"unstable_getStaticProps"),v=(0,l.l)(m,"unstable_getStaticPaths"),I=(0,l.l)(m,"unstable_getStaticParams"),S=(0,l.l)(m,"unstable_getServerProps"),N=(0,l.l)(m,"unstable_getServerSideProps"),j=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/Admin_Dashbord/Games",pathname:"/Admin_Dashbord/Games",bundlePath:"",filename:""},components:{App:c(),Document:i()},userland:m});r()}catch(e){r(e)}})},8141:(e,a,t)=>{Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return i}});let r=t(167),s=t(997),n=r._(t(6689)),l=t(5782);async function o(e){let{Component:a,ctx:t}=e;return{pageProps:await (0,l.loadGetInitialProps)(a,t)}}class i extends n.default.Component{render(){let{Component:e,pageProps:a}=this.props;return(0,s.jsx)(e,{...a})}}i.origGetInitialProps=o,i.getInitialProps=o,("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},5765:(e,a,t)=>{t.d(a,{Z:()=>r});let r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0wNFQxNTo0NzozMiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMDRUMTU6NDk6MjUrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMDRUMTU6NDk6MjUrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTNiNWY4ZGItMTViOC1lNjQy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"},8821:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>c});var s=t(997),n=t(6689),l=t(9648),o=t(5765),i=t(8808),d=e([l]);l=(d.then?(await d)():d)[0];let c=()=>{let[e,a]=(0,n.useState)([]),[t,r]=(0,n.useState)({gamename:"",description:"",image:null}),[d,c]=(0,n.useState)(null),m=(0,n.useRef)(null),[g,u]=(0,n.useState)(null),[p,h]=(0,n.useState)(!0),[b,f]=(0,n.useState)(""),[x,y]=(0,n.useState)(""),[v,I]=(0,n.useState)(null),S=e=>{let a=e.split(",")[1]||e,t=atob(a),r=[];for(let e=0;e<t.length;e+=512){let a=t.slice(e,e+512),s=Array(a.length);for(let e=0;e<a.length;e++)s[e]=a.charCodeAt(e);let n=new Uint8Array(s);r.push(n)}let s=new Blob(r,{type:"image/png"});return new File([s],"default-game-image.png",{type:"image/png"})},N=()=>S(o.Z),j=async()=>{h(!0),I("Testing API connection...");try{let e=localStorage.getItem("token"),a=e?{Authorization:`Bearer ${e}`}:{};console.log("Testing endpoint: /api/game");let t=await l.default.get((0,i.kG)("/api/game"),{headers:a});console.log("API test response:",t.data),I("API connection successful using endpoint: /api/game")}catch(e){console.error("API connection test failed:",e),I(`API connection test failed: ${e.message}`)}finally{setTimeout(()=>h(!1),500)}},A=async()=>{h(!0),f("");try{let e=localStorage.getItem("token"),t=e?{Authorization:`Bearer ${e}`}:{};if(!e){f("Authentication token not found. Please log in again."),h(!1);return}console.log("Fetching games from /api/game...");let r=await l.default.get((0,i.kG)("/api/game"),{headers:t});console.log("Games response:",r.data);let s=[];r.data&&Array.isArray(r.data)?s=r.data:r.data&&r.data.data&&Array.isArray(r.data.data)?s=r.data.data:r.data&&r.data.data&&(s=[r.data.data]),a(s),y("Games loaded successfully"),setTimeout(()=>y(""),3e3),localStorage.setItem("gamesData",JSON.stringify(s))}catch(e){console.error("Error fetching games:",e),f("Failed to fetch games: "+(e.response?.data?.message||e.message));try{let e=localStorage.getItem("gamesData");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&(a(t),f("Could not connect to the server. Using locally stored games data."))}}catch(e){console.error("Error using local fallback:",e)}}finally{h(!1)}};(0,n.useEffect)(()=>{A(),j()},[]);let J=e=>{let{name:a,value:s}=e.target;g?u({...g,[a]:s}):r({...t,[a]:s})},k=async e=>{e.preventDefault(),f(""),y(""),h(!0);try{let e=t.image;if(!e)try{e=N(),console.log("Using default game image")}catch(e){console.error("Error creating default image:",e),f("Please select an image file for the game"),h(!1);return}let a=localStorage.getItem("token"),s=a?{Authorization:`Bearer ${a}`}:{};if(!a){f("Authentication token not found. Please log in again."),h(!1);return}let n=new FormData;for(let[e,a]of(n.append("gamename",t.gamename),n.append("description",t.description),console.log("FormData entries:"),n.entries()))console.log(`${e}: ${a instanceof File?a.name:a}`);for(let[a,r]of(e&&(n.append("image",e),console.log("Appended image:",e instanceof File?e.name:"Base64 image")),console.log("Adding game with data:",{name:t.gamename,description:t.description,hasImage:!!e}),console.log("Final FormData entries:"),n.entries()))console.log(`${a}: ${r instanceof File?r.name:r}`);let o=await l.default.post((0,i.kG)("/api/game"),n,{headers:s});console.log("Game added response:",o.data),r({gamename:"",description:"",image:null}),c(null),m.current&&(m.current.value=""),y("Game added successfully!");let d=localStorage.getItem("gamesData")?JSON.parse(localStorage.getItem("gamesData")):[],g={gamename:t.gamename,description:t.description,image:o.data.image||o.data.imageUrl||"",_id:o.data._id||Date.now().toString(),createdAt:new Date().toISOString()};d.push(g),localStorage.setItem("gamesData",JSON.stringify(d)),A(),setTimeout(()=>y(""),3e3)}catch(a){console.error("Error adding game:",a.response?.data||a.message);let e="Failed to add game: ";a.response?(console.error("Error response data:",a.response.data),console.error("Error response status:",a.response.status),e+=`Server responded with status: ${a.response.status}. `,a.response.data&&"object"==typeof a.response.data?a.response.data.message?e+=a.response.data.message:a.response.data.error?e+=a.response.data.error:e+=JSON.stringify(a.response.data):"string"==typeof a.response.data&&(e+=a.response.data)):a.request?e+="No response received from server. Please check your connection.":e+=a.message,f(e)}finally{h(!1)}},G=e=>{let a={...e};"string"==typeof a.image&&(a.originalImageUrl=a.image,console.log("Editing game with image URL:",a.image)),u(a),a.image&&"string"==typeof a.image?c(a.image):c(null),m.current&&(m.current.value="")},Z=async e=>{e.preventDefault(),f(""),y(""),h(!0);try{let e,a=g.image,t=localStorage.getItem("token"),r=t?{Authorization:`Bearer ${t}`}:{};if(!t){f("Authentication token not found. Please log in again."),h(!1);return}if(a instanceof File){let t=new FormData;for(let[e,r]of(t.append("gamename",g.gamename),t.append("description",g.description),t.append("image",a),console.log("Uploading with FormData - new image file:",a.name),console.log("FormData entries:"),t.entries()))console.log(`${e}: ${r instanceof File?r.name:r}`);e=await l.default.put((0,i.kG)(`/api/game/${g._id}`),t,{headers:{...r}})}else{let t={gamename:g.gamename,description:g.description};"string"==typeof a&&a&&(t.keepExistingImage=!0,console.log("Using existing image URL in JSON request")),console.log("Updating with JSON data:",t),e=await l.default.put((0,i.kG)(`/api/game/${g._id}`),t,{headers:{...r,"Content-Type":"application/json"}})}console.log("Game updated response:",e.data),y("Game updated successfully!");let s=localStorage.getItem("gamesData")?JSON.parse(localStorage.getItem("gamesData")):[],n=s.findIndex(e=>e._id===g._id);-1!==n&&(s[n]={...s[n],gamename:g.gamename,description:g.description,image:e.data.image||e.data.imageUrl||s[n].image,updatedAt:new Date().toISOString()},localStorage.setItem("gamesData",JSON.stringify(s))),u(null),c(null),m.current&&(m.current.value=""),A(),setTimeout(()=>y(""),3e3)}catch(a){console.error("Error updating game:",a.response?.data||a.message);let e="Failed to update game: ";a.response?(console.error("Error response data:",a.response.data),console.error("Error response status:",a.response.status),e+=`Server responded with status: ${a.response.status}. `,a.response.data&&"object"==typeof a.response.data?a.response.data.message?e+=a.response.data.message:a.response.data.error?e+=a.response.data.error:e+=JSON.stringify(a.response.data):"string"==typeof a.response.data&&(e+=a.response.data)):a.request?e+="No response received from server. Please check your connection.":e+=a.message,f(e)}finally{h(!1)}},E=async e=>{if(confirm("Are you sure you want to delete this game? This will also delete all associated packages.")){f(""),y(""),h(!0);try{let a=localStorage.getItem("token"),t=a?{Authorization:`Bearer ${a}`}:{};if(!a){f("Authentication token not found. Please log in again."),h(!1);return}console.log(`Deleting game with ID: ${e}`),await l.default.delete((0,i.kG)(`/api/game/${e}`),{headers:t}),y("Game deleted successfully!");let r=(localStorage.getItem("gamesData")?JSON.parse(localStorage.getItem("gamesData")):[]).filter(a=>a._id!==e);localStorage.setItem("gamesData",JSON.stringify(r)),g&&g._id===e&&(u(null),c(null),m.current&&(m.current.value="")),A(),setTimeout(()=>y(""),3e3)}catch(a){console.error("Error deleting game:",a.response?.data||a.message);let e="Failed to delete game: ";a.response?(console.error("Error response data:",a.response.data),console.error("Error response status:",a.response.status),e+=`Server responded with status: ${a.response.status}. `,a.response.data&&"object"==typeof a.response.data?a.response.data.message?e+=a.response.data.message:a.response.data.error?e+=a.response.data.error:e+=JSON.stringify(a.response.data):"string"==typeof a.response.data&&(e+=a.response.data)):a.request?e+="No response received from server. Please check your connection.":e+=a.message,f(e)}finally{h(!1)}}};return(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Manage Games"}),v&&s.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("p",{children:v}),s.jsx("div",{children:s.jsx("button",{onClick:j,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded transition-colors",disabled:p,children:"Test API"})})]})}),x&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:s.jsx("p",{children:x})}),b&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:[s.jsx("p",{children:b}),s.jsx("button",{className:"mt-2 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",onClick:A,children:"Try Again"})]}),(0,s.jsxs)("form",{onSubmit:g?Z:k,className:"mb-6 p-6 bg-gray-200 rounded",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:g?"Edit Game":"Add New Game"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Game Name"}),s.jsx("input",{type:"text",name:"gamename",placeholder:"Enter game name",value:g?g.gamename:t.gamename,onChange:J,className:"border p-2 w-full rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Game Image ",s.jsx("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"file",accept:"image/*",ref:m,onChange:e=>{let a=e.target.files[0];if(!a)return;if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(a.type)){f("Please select a valid image file (JPEG, PNG, JPG, GIF)");return}if(a.size>2097152){f("Image size should be less than 2MB");return}let s=new FileReader;s.onloadend=()=>{c(s.result),g?u({...g,image:a}):r({...t,image:a})},s.readAsDataURL(a)},className:"hidden",id:"gameImageUpload",required:!g?.image}),(0,s.jsxs)("label",{htmlFor:"gameImageUpload",className:"cursor-pointer bg-blue-500 hover:bg-blue-600 text-white rounded px-3 py-2 text-sm flex-grow flex items-center justify-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g?.image?.name||g?.image?"string"==typeof g.image?"Change image":`Selected: ${g.image.name.substring(0,15)}${g.image.name.length>15?"...":""}`:t?.image?.name?`Selected: ${t.image.name.substring(0,15)}${t.image.name.length>15?"...":""}`:"Choose image file..."]}),s.jsx("button",{type:"button",onClick:()=>{g?u({...g,image:null}):r({...t,image:null}),c(null),m.current&&(m.current.value="")},className:"bg-red-500 hover:bg-red-600 text-white px-2 py-2 rounded text-sm",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"relative w-32 h-32 border rounded overflow-hidden bg-gray-100",children:d?s.jsx("img",{src:d,alt:"Preview",className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src=o.Z}}):g&&"string"==typeof g.image&&g.image?s.jsx("img",{src:g.image,alt:g.gamename,className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src=o.Z}}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("img",{src:o.Z,alt:"Default game placeholder",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center text-xs p-2",children:s.jsx("span",{className:"bg-black bg-opacity-50 text-white p-1 rounded",children:"Select an image"})})]})})})]})]}),(0,s.jsxs)("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",placeholder:"Enter game description",value:g?g.description:t.description,onChange:J,className:"border p-2 w-full rounded h-24",required:!0})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{type:"submit",className:`${g?"bg-blue-500 hover:bg-blue-600":"bg-green-500 hover:bg-green-600"} text-white px-4 py-2 rounded`,disabled:p,children:p?g?"Updating...":"Adding...":g?"Update Game":"Add Game"}),g&&s.jsx("button",{type:"button",onClick:()=>u(null),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Cancel"})]})]}),g&&(0,s.jsxs)("div",{className:"mb-6 p-4 border border-blue-300 bg-blue-50 rounded",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Game Preview"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[s.jsx("div",{className:"w-40 h-40 overflow-hidden rounded bg-gray-100",children:d?s.jsx("img",{src:d,alt:g.gamename,className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src=o.Z}}):g?.image?s.jsx("img",{src:"string"==typeof g.image?g.image:URL.createObjectURL(g.image),alt:g.gamename,className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src=o.Z}}):s.jsx("img",{src:o.Z,alt:"Game placeholder",className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl font-semibold",children:g.gamename||"Game Name"}),s.jsx("p",{className:"mt-2 text-gray-600",children:g.description||"No description available"})]})]})]}),p?(0,s.jsxs)("div",{className:"text-center py-4",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-orange-500"}),s.jsx("p",{className:"mt-2",children:"Loading games..."})]}):b&&0===e.length?s.jsx("div",{className:"text-center py-4 text-red-500",children:s.jsx("p",{children:b})}):0===e.length?s.jsx("div",{className:"text-center py-10 bg-gray-100 rounded",children:s.jsx("p",{className:"text-lg text-gray-600",children:"No games found. Add your first game using the form above."})}):s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border border-gray-300 rounded",children:[s.jsx("thead",{className:"bg-[#0e08ab] text-white",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"border p-2",children:"Game Name"}),s.jsx("th",{className:"border p-2",children:"Image"}),s.jsx("th",{className:"border p-2",children:"Description"}),s.jsx("th",{className:"border p-2",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"text-center bg-gray-100 hover:bg-gray-200 transition-colors",children:[s.jsx("td",{className:"border p-2 font-medium",children:e.gamename}),s.jsx("td",{className:"border p-2",children:s.jsx("div",{className:"h-16 w-16 mx-auto overflow-hidden rounded bg-gray-100",children:s.jsx("img",{src:e.image||o.Z,alt:e.gamename||"Game",className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src=o.Z}})})}),s.jsx("td",{className:"border p-2 text-left",children:s.jsx("div",{className:"max-h-20 overflow-y-auto",children:e.description})}),s.jsx("td",{className:"border p-2",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[s.jsx("button",{onClick:()=>G(e),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded",children:"Edit"}),s.jsx("button",{onClick:()=>E(e._id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})]})})]},e._id))})]})}),(0,s.jsxs)("div",{className:"mt-6 flex justify-between items-center text-sm text-gray-500",children:[s.jsx("div",{children:(0,s.jsxs)("p",{children:["Total Games: ",e.length]})}),s.jsx("div",{children:s.jsx("button",{onClick:A,className:"text-blue-600 hover:text-blue-800 underline",disabled:p,children:p?"Refreshing...":"Refresh Data"})})]})]})};r()}catch(e){r(e)}})},8808:(e,a,t)=>{t.d(a,{NU:()=>n,kG:()=>s});let r=process.env.NEXT_PUBLIC_API_URL||"/api",s=e=>{let a=e.startsWith("/")?e.slice(1):e;return`${r}/${a}`},n=e=>{let a={"Content-Type":"application/json"};return e&&(a.Authorization=`Bearer ${e}`),a}},5244:(e,a)=>{var t;Object.defineProperty(a,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},9648:e=>{e.exports=import("axios")}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[682],()=>t(4689));module.exports=r})();