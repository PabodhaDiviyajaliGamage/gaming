"use strict";(()=>{var e={};e.id=573,e.ids=[573,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},5162:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>b,getServerSideProps:()=>p,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>f,routeModule:()=>P,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>k,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>y});var s=r(7093),n=r(5244),l=r(1323),c=r(1682),o=r.n(c),d=r(8141),i=r.n(d),u=r(6527),m=e([u]);u=(m.then?(await m)():m)[0];let b=(0,l.l)(u,"default"),h=(0,l.l)(u,"getStaticProps"),x=(0,l.l)(u,"getStaticPaths"),p=(0,l.l)(u,"getServerSideProps"),g=(0,l.l)(u,"config"),f=(0,l.l)(u,"reportWebVitals"),y=(0,l.l)(u,"unstable_getStaticProps"),j=(0,l.l)(u,"unstable_getStaticPaths"),N=(0,l.l)(u,"unstable_getStaticParams"),v=(0,l.l)(u,"unstable_getServerProps"),k=(0,l.l)(u,"unstable_getServerSideProps"),P=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/Admin_Dashbord/Bank_Detail",pathname:"/Admin_Dashbord/Bank_Detail",bundlePath:"",filename:""},components:{App:i(),Document:o()},userland:u});a()}catch(e){a(e)}})},8141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let a=r(167),s=r(997),n=a._(r(6689)),l=r(5782);async function c(e){let{Component:t,ctx:r}=e;return{pageProps:await (0,l.loadGetInitialProps)(t,r)}}class o extends n.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,s.jsx)(e,{...t})}}o.origGetInitialProps=c,o.getInitialProps=c,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6527:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>i});var s=r(997),n=r(6689),l=r(9648),c=r(6729),o=r(8930),d=e([l]);l=(d.then?(await d)():d)[0];let i=()=>{let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)({accountHolder:"",accountNumber:"",bankName:"",branch:""}),[l,d]=(0,n.useState)(null),[i,u]=(0,n.useState)(!1),[m,b]=(0,n.useState)({message:"",type:""});(0,n.useEffect)(()=>{(0,o.WQ)(),h()},[]);let h=()=>{u(!0);try{let e=(0,o.sr)();t(e),b({message:e.length>0?"":"No bank accounts found. Add one below.",type:e.length>0?"":"info"})}catch(e){console.error("Error fetching banks:",e),t([]),b({message:"Error fetching bank data: "+e.message,type:"error"})}finally{u(!1)}},x=e=>{a({...r,[e.target.name]:e.target.value})},p=e=>{if(window.confirm("Are you sure you want to delete this bank account?")){u(!0);try{(0,o.I2)(e),b({message:"Bank deleted successfully!",type:"success"}),h()}catch(e){console.error("Error deleting bank",e),b({message:"Failed to delete bank: "+e.message,type:"error"})}finally{u(!1)}}},g=e=>{a({accountHolder:e.accountHolder||"",accountNumber:e.accountNumber||"",bankName:e.bankName||"",branch:e.branch||""}),d(e._id)};return s.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Bank Account Management"}),(0,s.jsxs)("button",{onClick:h,className:"bg-blue-100 text-blue-700 px-3 py-2 rounded-md hover:bg-blue-200 transition-colors flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh"]})]}),m.message&&s.jsx("div",{className:`mb-6 p-4 rounded-md ${"success"===m.type?"bg-green-100 text-green-800 border-l-4 border-green-500":"info"===m.type?"bg-blue-100 text-blue-800 border-l-4 border-blue-500":"bg-red-100 text-red-800 border-l-4 border-red-500"}`,children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("span",{className:`mr-2 text-xl ${"success"===m.type?"text-green-500":"info"===m.type?"text-blue-500":"text-red-500"}`,children:"success"===m.type?"✓":"info"===m.type?"ℹ":"⚠"}),s.jsx("p",{children:m.message}),s.jsx("button",{onClick:()=>b({message:"",type:""}),className:"ml-auto text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:l?"Edit Bank Account":"Add New Bank Account"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u(!0);try{l?((0,o.AG)(l,r),b({message:"Bank details updated successfully!",type:"success"})):((0,o.qH)(r),b({message:"Bank details added successfully!",type:"success"})),a({accountHolder:"",accountNumber:"",bankName:"",branch:""}),d(null),h()}catch(e){console.error("Error saving bank",e),b({message:"Failed to save bank details: "+e.message,type:"error"})}finally{u(!1)}},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"accountHolder",className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Holder Name"}),s.jsx("input",{type:"text",id:"accountHolder",name:"accountHolder",value:r.accountHolder,onChange:x,placeholder:"Enter account holder name",className:"border border-gray-300 p-2 rounded-md w-full focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"accountNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),s.jsx("input",{type:"text",id:"accountNumber",name:"accountNumber",value:r.accountNumber,onChange:x,placeholder:"Enter account number",className:"border border-gray-300 p-2 rounded-md w-full focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"bankName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),s.jsx("input",{type:"text",id:"bankName",name:"bankName",value:r.bankName,onChange:x,placeholder:"Enter bank name",className:"border border-gray-300 p-2 rounded-md w-full focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),s.jsx("input",{type:"text",id:"branch",name:"branch",value:r.branch,onChange:x,placeholder:"Enter branch name",className:"border border-gray-300 p-2 rounded-md w-full focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[l&&s.jsx("button",{type:"button",onClick:()=>{a({accountHolder:"",accountNumber:"",bankName:"",branch:""}),d(null)},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-md transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",className:`${i?"bg-gray-500":"bg-blue-600 hover:bg-blue-700"} text-white px-4 py-2 rounded-md flex items-center justify-center transition-colors`,disabled:i,children:[i&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l?"Update Bank Account":"Add Bank Account"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Bank Accounts"}),i&&0===e.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-3 text-gray-600",children:"Loading bank details..."})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-6 border-b pb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Customer Preview"}),s.jsx(c.Z,{bankAccounts:e,theme:"light"})]}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"p-3 border text-left",children:"Holder"}),s.jsx("th",{className:"p-3 border text-left",children:"Account No"}),s.jsx("th",{className:"p-3 border text-left",children:"Bank"}),s.jsx("th",{className:"p-3 border text-left",children:"Branch"}),s.jsx("th",{className:"p-3 border text-center",children:"Actions"})]})}),(0,s.jsxs)("tbody",{children:[e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-3 border",children:e.accountHolder}),s.jsx("td",{className:"p-3 border font-mono",children:e.accountNumber}),s.jsx("td",{className:"p-3 border",children:e.bankName}),s.jsx("td",{className:"p-3 border",children:e.branch}),s.jsx("td",{className:"p-3 border",children:(0,s.jsxs)("div",{className:"flex justify-center space-x-2",children:[s.jsx("button",{onClick:()=>g(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>p(e._id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md transition-colors",children:"Delete"})]})})]},e._id)),0===e.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-6 text-center text-gray-500",children:"No bank details found. Add your first bank account above."})})]})]})})]})]})]})})};a()}catch(e){a(e)}})},8930:(e,t,r)=>{r.d(t,{AG:()=>l,I2:()=>c,WQ:()=>a,qH:()=>n,sr:()=>s});let a=()=>[],s=()=>[],n=e=>{throw Error("Cannot access localStorage on server")},l=(e,t)=>{throw Error("Cannot access localStorage on server")},c=e=>{throw Error("Cannot access localStorage on server")}},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},9648:e=>{e.exports=import("axios")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[682,729],()=>r(5162));module.exports=a})();