(()=>{var e={};e.id=674,e.ids=[674],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5016:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o}),t(4221),t(774),t(7139),t(5866);var r=t(3191),a=t(8716),l=t(7922),d=t.n(l),n=t(5231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(s,i);let o=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4221)),"C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\admin\\users\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,774)),"C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\admin\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7139)),"C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\admin\\users\\page.jsx"],u="/admin/users/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2384:(e,s,t)=>{Promise.resolve().then(t.bind(t,213))},7241:(e,s,t)=>{Promise.resolve().then(t.bind(t,1285))},6570:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},8341:()=>{},213:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(326),a=t(7577),l=t(7389),d=t(434);function n({children:e}){let[s,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!0),o=(0,l.useRouter)();return n?r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):s?r.jsx("div",{className:"min-h-screen bg-gray-900",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("aside",{className:"w-64 bg-gray-800 min-h-screen p-4",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:"Admin Panel"}),r.jsx("p",{className:"text-gray-400 text-sm",children:localStorage.getItem("userName")})]}),(0,r.jsxs)("nav",{className:"space-y-2",children:[r.jsx(d.default,{href:"/admin/orders",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDCE6 Orders"}),r.jsx(d.default,{href:"/admin/games",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83C\uDFAE Games"}),r.jsx(d.default,{href:"/admin/packages",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDCE6 Packages"}),r.jsx(d.default,{href:"/admin/users",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDC65 Users"}),r.jsx(d.default,{href:"/admin/bank-details",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83C\uDFE6 Bank Details"}),r.jsx(d.default,{href:"/admin/banner",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDDBCï¸ Header Banner"}),r.jsx("hr",{className:"border-gray-700 my-4"}),r.jsx(d.default,{href:"/",className:"block text-blue-400 hover:bg-gray-700 p-3 rounded transition",children:"\uD83C\uDFE0 Back to Home"}),r.jsx("button",{onClick:()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userName"),localStorage.removeItem("userRole"),o.push("/")},className:"w-full text-left text-red-400 hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDEAA Logout"})]})]}),r.jsx("main",{className:"flex-1 p-8",children:e})]})}):null}},1285:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(326),a=t(7577),l=t(9420);function d(){let[e,s]=(0,a.useState)([]),[t,d]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),[u,m]=(0,a.useState)({name:"",email:"",phone:"",password:"",role:"user",status:"active"}),p=e=>{i(e),m({...e,password:""}),d(!0)},x=async t=>{if(confirm("Are you sure you want to delete this user?"))try{(await l.h3.delete(t)).success?(s(e.filter(e=>(e._id||e.id)!==t)),alert("User deleted successfully!")):alert("Failed to delete user")}catch(e){console.error("Error deleting user:",e),alert("Failed to delete user")}},h=async t=>{t.preventDefault();try{if(n){let t={...u};t.password||delete t.password;let r=await l.h3.update(n._id||n.id,t);r.success?(s(e.map(e=>(e._id||e.id)===(n._id||n.id)?r.data:e)),alert("User updated successfully!")):alert("Failed to update user")}else{if(!u.password){alert("Password is required for new users");return}let t=await l.h3.register(u);t.success?(s([...e,t.data]),alert("User added successfully!")):alert(t.error||"Failed to add user")}d(!1)}catch(e){console.error("Error saving user:",e),alert("Failed to save user")}};return(0,r.jsxs)("div",{className:"text-white",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Users Management"}),r.jsx("button",{onClick:()=>{i(null),m({name:"",email:"",phone:"",password:"",role:"user",status:"active"}),d(!0)},className:"px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition",children:"+ Add New User"})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-700",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Phone"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Role"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Joined"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:o?r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-400",children:"Loading users..."})}):0===e.length?r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-400",children:'No users found. Click "Add New User" to create one.'})}):e.map(e=>(0,r.jsxs)("tr",{className:"border-t border-gray-700 hover:bg-gray-750",children:[r.jsx("td",{className:"px-4 py-3 font-semibold",children:e.name}),r.jsx("td",{className:"px-4 py-3",children:e.email}),r.jsx("td",{className:"px-4 py-3",children:e.phone}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"admin"===e.role?"bg-purple-500":"bg-blue-500"}`,children:e.role.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"active"===e.status?"bg-green-500":"bg-red-500"}`,children:e.status.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"}),(0,r.jsxs)("td",{className:"px-4 py-3",children:[r.jsx("button",{onClick:()=>p(e),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded mr-2 text-sm transition",children:"Edit"}),r.jsx("button",{onClick:()=>x(e._id||e.id),className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm transition",children:"Delete"})]})]},e._id||e.id))})]})})}),t&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl max-w-md w-full p-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:n?"Edit User":"Add New User"}),(0,r.jsxs)("form",{onSubmit:h,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),r.jsx("input",{type:"text",value:u.name,onChange:e=>m({...u,name:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),r.jsx("input",{type:"email",value:u.email,onChange:e=>m({...u,email:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),r.jsx("input",{type:"text",value:u.phone,onChange:e=>m({...u,phone:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Password ",n?"(leave blank to keep current)":"*"]}),r.jsx("input",{type:"password",value:u.password,onChange:e=>m({...u,password:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!n,placeholder:n?"Leave blank to keep current password":"Enter password"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role *"}),(0,r.jsxs)("select",{value:u.role,onChange:e=>m({...u,role:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0,children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status *"}),(0,r.jsxs)("select",{value:u.status,onChange:e=>m({...u,status:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0,children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[r.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition",children:n?"Update":"Add"}),r.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition",children:"Cancel"})]})]})]})})]})}},9420:(e,s,t)=>{"use strict";async function r(e,s={}){let t=await fetch(`/api${e}`,{headers:{"Content-Type":"application/json",...s.headers},...s}),r=await t.json();if(!t.ok)throw Error(r.error||"API request failed");return r}t.d(s,{Pc:()=>l,_W:()=>a,g3:()=>d,h3:()=>n});let a={getAll:()=>r("/games"),getById:e=>r(`/games/${e}`),create:e=>r("/games",{method:"POST",body:JSON.stringify(e)}),update:(e,s)=>r(`/games/${e}`,{method:"PUT",body:JSON.stringify(s)}),delete:e=>r(`/games/${e}`,{method:"DELETE"})},l={getAll:()=>r("/packages"),getById:e=>r(`/packages/${e}`),create:e=>r("/packages",{method:"POST",body:JSON.stringify(e)}),update:(e,s)=>r(`/packages/${e}`,{method:"PUT",body:JSON.stringify(s)}),delete:e=>r(`/packages/${e}`,{method:"DELETE"})},d={getAll:()=>r("/orders"),getById:e=>r(`/orders/${e}`),create:e=>r("/orders",{method:"POST",body:JSON.stringify(e)}),update:(e,s)=>r(`/orders/${e}`,{method:"PUT",body:JSON.stringify(s)}),delete:e=>r(`/orders/${e}`,{method:"DELETE"})},n={getAll:()=>r("/users"),register:e=>r("/users",{method:"POST",body:JSON.stringify(e)}),update:(e,s)=>r(`/users/${e}`,{method:"PUT",body:JSON.stringify(s)}),delete:e=>r(`/users/${e}`,{method:"DELETE"}),login:e=>r("/auth/login",{method:"POST",body:JSON.stringify(e)})}},774:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\pabod\Desktop\SlGamingHub-frontend\app\admin\layout.jsx#default`)},4221:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\pabod\Desktop\SlGamingHub-frontend\app\admin\users\page.jsx#default`)},7139:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,metadata:()=>d});var r=t(9510),a=t(2584),l=t.n(a);t(7272);let d={title:"SL Gaming Hub",description:"Gaming top-up platform"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:l().className,children:e})})}},7272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,953,434],()=>t(5016));module.exports=r})();