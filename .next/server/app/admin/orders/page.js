(()=>{var e={};e.id=606,e.ids=[606],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7848:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(7692),t(774),t(7139),t(5866);var a=t(3191),r=t(8716),l=t(7922),d=t.n(l),n=t(5231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(s,i);let o=["",{children:["admin",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7692)),"C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\admin\\orders\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,774)),"C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\admin\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7139)),"C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\admin\\orders\\page.jsx"],m="/admin/orders/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/orders/page",pathname:"/admin/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2384:(e,s,t)=>{Promise.resolve().then(t.bind(t,213))},3944:(e,s,t)=>{Promise.resolve().then(t.bind(t,1386))},6570:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},8341:()=>{},213:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(326),r=t(7577),l=t(7389),d=t(434);function n({children:e}){let[s,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!0),o=(0,l.useRouter)();return n?a.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):s?a.jsx("div",{className:"min-h-screen bg-gray-900",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("aside",{className:"w-64 bg-gray-800 min-h-screen p-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:"Admin Panel"}),a.jsx("p",{className:"text-gray-400 text-sm",children:localStorage.getItem("userName")})]}),(0,a.jsxs)("nav",{className:"space-y-2",children:[a.jsx(d.default,{href:"/admin/orders",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDCE6 Orders"}),a.jsx(d.default,{href:"/admin/games",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83C\uDFAE Games"}),a.jsx(d.default,{href:"/admin/packages",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDCE6 Packages"}),a.jsx(d.default,{href:"/admin/users",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDC65 Users"}),a.jsx(d.default,{href:"/admin/bank-details",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83C\uDFE6 Bank Details"}),a.jsx(d.default,{href:"/admin/banner",className:"block text-white hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDDBC️ Header Banner"}),a.jsx("hr",{className:"border-gray-700 my-4"}),a.jsx(d.default,{href:"/",className:"block text-blue-400 hover:bg-gray-700 p-3 rounded transition",children:"\uD83C\uDFE0 Back to Home"}),a.jsx("button",{onClick:()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userName"),localStorage.removeItem("userRole"),o.push("/")},className:"w-full text-left text-red-400 hover:bg-gray-700 p-3 rounded transition",children:"\uD83D\uDEAA Logout"})]})]}),a.jsx("main",{className:"flex-1 p-8",children:e})]})}):null}},1386:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(326),r=t(7577),l=t(9420);function d(){let[e,s]=(0,r.useState)([]),[t,d]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),[m,x]=(0,r.useState)(null),[u,p]=(0,r.useState)(!0),[h,g]=(0,r.useState)({orderNumber:"",customerName:"",customerEmail:"",game:"",package:"",amount:"",status:"pending",gameId:"",playerNickname:"",paymentMethod:"bank"}),b=e=>{x(e),g(e),d(!0)},y=e=>{c(e),i(!0)},j=async t=>{if(confirm("Are you sure you want to delete this order?"))try{(await l.g3.delete(t)).success?(s(e.filter(e=>(e._id||e.id)!==t)),alert("Order deleted successfully!")):alert("Failed to delete order")}catch(e){console.error("Error deleting order:",e),alert("Failed to delete order")}},N=async t=>{t.preventDefault();try{if(m){let t=await l.g3.update(m._id||m.id,h);t.success?(s(e.map(e=>(e._id||e.id)===(m._id||m.id)?t.data:e)),alert("Order updated successfully!")):alert("Failed to update order")}else{let t=await l.g3.create(h);t.success?(s([...e,t.data]),alert("Order added successfully!")):alert("Failed to add order")}d(!1)}catch(e){console.error("Error saving order:",e),alert("Failed to save order")}},f=e=>{switch(e){case"completed":return"bg-green-500";case"pending":return"bg-yellow-500";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}};return(0,a.jsxs)("div",{className:"text-white",children:[a.jsx("div",{className:"mb-6",children:a.jsx("h1",{className:"text-3xl font-bold",children:"Orders Management"})}),a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Order #"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Game"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Package"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-400",children:"Loading orders..."})}):0===e.length?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-400",children:'No orders found. Click "Add New Order" to create one.'})}):e.map(e=>(0,a.jsxs)("tr",{className:"border-t border-gray-700 hover:bg-gray-750",children:[a.jsx("td",{className:"px-4 py-3",children:e.orderNumber}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[a.jsx("div",{children:e.customerName}),a.jsx("div",{className:"text-xs text-gray-400",children:e.customerEmail||e.phone})]}),a.jsx("td",{className:"px-4 py-3",children:e.game}),a.jsx("td",{className:"px-4 py-3",children:e.package}),(0,a.jsxs)("td",{className:"px-4 py-3 font-semibold",children:["LKR ",e.amount]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f(e.status)}`,children:e.status.toUpperCase()})}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[e.paymentSlip&&a.jsx("button",{onClick:()=>y(e),className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 rounded text-sm transition",children:"View Slip"}),a.jsx("button",{onClick:()=>b(e),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm transition",children:"Edit"}),a.jsx("button",{onClick:()=>j(e.id),className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm transition",children:"Delete"})]})})]},e._id||e.id))})]})})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl max-w-2xl w-full p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:m?"Edit Order":"Add New Order"}),(0,a.jsxs)("form",{onSubmit:N,children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Order Number"}),a.jsx("input",{type:"text",value:h.orderNumber,onChange:e=>g({...h,orderNumber:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0,readOnly:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Customer Name"}),a.jsx("input",{type:"text",value:h.customerName,onChange:e=>g({...h,customerName:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),a.jsx("input",{type:"text",value:h.phone,onChange:e=>g({...h,phone:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Game ID"}),a.jsx("input",{type:"text",value:h.gameId,onChange:e=>g({...h,gameId:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Game"}),(0,a.jsxs)("select",{value:h.game,onChange:e=>g({...h,game:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0,children:[a.jsx("option",{value:"",children:"Select Game"}),a.jsx("option",{value:"Free Fire",children:"Free Fire"}),a.jsx("option",{value:"PUBG Mobile",children:"PUBG Mobile"}),a.jsx("option",{value:"Mobile Legends",children:"Mobile Legends"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Package"}),a.jsx("input",{type:"text",value:h.package,onChange:e=>g({...h,package:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",placeholder:"e.g., 310 Diamonds",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount"}),a.jsx("input",{type:"text",value:h.amount,onChange:e=>g({...h,amount:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",placeholder:"e.g., LKR 500",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,a.jsxs)("select",{value:h.status,onChange:e=>g({...h,status:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0,children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition",children:m?"Update Order":"Add Order"}),a.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition",children:"Cancel"})]})]})]})}),n&&o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"bg-gray-700 p-6 border-b border-gray-600 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Slip Details"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Order #",o.orderNumber]})]}),a.jsx("button",{className:"text-white bg-red-600 hover:bg-red-700 rounded-full w-10 h-10 flex items-center justify-center text-xl transition",onClick:()=>i(!1),children:"✕"})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-yellow-400 mb-3",children:"Order Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Customer:"}),a.jsx("span",{className:"text-white font-semibold ml-2",children:o.customerName})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Game:"}),a.jsx("span",{className:"text-white font-semibold ml-2",children:o.game})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Package:"}),a.jsx("span",{className:"text-white font-semibold ml-2",children:o.package})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Amount:"}),a.jsx("span",{className:"text-white font-semibold ml-2",children:o.amount})]}),o.playerNickname&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Player ID:"}),a.jsx("span",{className:"text-white font-semibold ml-2",children:o.gameId})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Player Name:"}),a.jsx("span",{className:"text-white font-semibold ml-2",children:o.playerNickname})]})]}),o.paymentMethod&&(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Payment Method:"}),a.jsx("span",{className:"text-white font-semibold ml-2 capitalize",children:"bank"===o.paymentMethod?"\uD83C\uDFE6 Bank Transfer":"\uD83D\uDCB3 eZcash"})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-semibold ${f(o.status)}`,children:o.status.toUpperCase()})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-yellow-400 mb-3",children:["Payment Slip ","bank"===o.paymentMethod?"(Bank Slip)":"(eZcash Slip)"]}),o.paymentSlip?(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[a.jsx("img",{src:o.paymentSlip,alt:"Payment Slip",className:"w-full max-h-[500px] object-contain rounded"}),(0,a.jsxs)("div",{className:"mt-4 flex gap-3",children:[a.jsx("a",{href:o.paymentSlip,download:`payment-slip-${o.orderNumber}.png`,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition",children:"\uD83D\uDCBE Download Slip"}),a.jsx("button",{onClick:()=>window.open(o.paymentSlip,"_blank"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition",children:"\uD83D\uDD0D Open in New Tab"})]})]}):(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-8 text-center text-gray-400",children:[a.jsx("div",{className:"text-5xl mb-3",children:"\uD83D\uDCC4"}),a.jsx("p",{children:"No payment slip uploaded for this order"})]})]}),a.jsx("button",{onClick:()=>i(!1),className:"w-full mt-6 px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition",children:"Close"})]})]})})]})}},9420:(e,s,t)=>{"use strict";async function a(e,s={}){let t=await fetch(`/api${e}`,{headers:{"Content-Type":"application/json",...s.headers},...s}),a=await t.json();if(!t.ok)throw Error(a.error||"API request failed");return a}t.d(s,{Pc:()=>l,_W:()=>r,g3:()=>d,h3:()=>n});let r={getAll:()=>a("/games"),getById:e=>a(`/games/${e}`),create:e=>a("/games",{method:"POST",body:JSON.stringify(e)}),update:(e,s)=>a(`/games/${e}`,{method:"PUT",body:JSON.stringify(s)}),delete:e=>a(`/games/${e}`,{method:"DELETE"})},l={getAll:()=>a("/packages"),getById:e=>a(`/packages/${e}`),create:e=>a("/packages",{method:"POST",body:JSON.stringify(e)}),update:(e,s)=>a(`/packages/${e}`,{method:"PUT",body:JSON.stringify(s)}),delete:e=>a(`/packages/${e}`,{method:"DELETE"})},d={getAll:()=>a("/orders"),getById:e=>a(`/orders/${e}`),create:e=>a("/orders",{method:"POST",body:JSON.stringify(e)}),update:(e,s)=>a(`/orders/${e}`,{method:"PUT",body:JSON.stringify(s)}),delete:e=>a(`/orders/${e}`,{method:"DELETE"})},n={getAll:()=>a("/users"),register:e=>a("/users",{method:"POST",body:JSON.stringify(e)}),update:(e,s)=>a(`/users/${e}`,{method:"PUT",body:JSON.stringify(s)}),delete:e=>a(`/users/${e}`,{method:"DELETE"}),login:e=>a("/auth/login",{method:"POST",body:JSON.stringify(e)})}},774:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\pabod\Desktop\SlGamingHub-frontend\app\admin\layout.jsx#default`)},7692:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\pabod\Desktop\SlGamingHub-frontend\app\admin\orders\page.jsx#default`)},7139:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,metadata:()=>d});var a=t(9510),r=t(2584),l=t.n(r);t(7272);let d={title:"SL Gaming Hub",description:"Gaming top-up platform"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:l().className,children:e})})}},7272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,953,434],()=>t(7848));module.exports=a})();