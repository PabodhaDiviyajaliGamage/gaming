"use strict";(()=>{var e={};e.id=419,e.ids=[419],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},295:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>f});var s={};a.r(s),a.d(s,{DELETE:()=>l,GET:()=>p,PUT:()=>d});var r=a(9303),n=a(8716),o=a(670),i=a(7070),u=a(5285),c=a(9839);async function p(e,{params:t}){try{await (0,u.Z)();let e=await c.Z.findById(t.id);if(!e)return i.NextResponse.json({success:!1,error:"Package not found"},{status:404});return i.NextResponse.json({success:!0,data:e})}catch(e){return i.NextResponse.json({success:!1,error:e.message},{status:500})}}async function d(e,{params:t}){try{await (0,u.Z)();let a=await e.json(),s=await c.Z.findByIdAndUpdate(t.id,a,{new:!0,runValidators:!0});if(!s)return i.NextResponse.json({success:!1,error:"Package not found"},{status:404});return i.NextResponse.json({success:!0,data:s})}catch(e){return i.NextResponse.json({success:!1,error:e.message},{status:400})}}async function l(e,{params:t}){try{if(await (0,u.Z)(),!await c.Z.findByIdAndDelete(t.id))return i.NextResponse.json({success:!1,error:"Package not found"},{status:404});return i.NextResponse.json({success:!0,data:{}})}catch(e){return i.NextResponse.json({success:!1,error:e.message},{status:500})}}let m=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/packages/[id]/route",pathname:"/api/packages/[id]",filename:"route",bundlePath:"app/api/packages/[id]/route"},resolvedPagePath:"C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\api\\packages\\[id]\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:g,staticGenerationAsyncStorage:f,serverHooks:y}=m,h="/api/packages/[id]/route";function v(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:f})}},5285:(e,t,a)=>{a.d(t,{Z:()=>i});var s=a(1185),r=a.n(s);let n=process.env.MONGODB_URI;if(!n)throw Error("Please define the MONGODB_URI environment variable inside .env");let o=global.mongoose;o||(o=global.mongoose={conn:null,promise:null});let i=async function(){if(o.conn)return o.conn;o.promise||(o.promise=r().connect(n,{bufferCommands:!1}).then(e=>e));try{o.conn=await o.promise}catch(e){throw o.promise=null,e}return o.conn}},9839:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(1185),r=a.n(s);let n=new(r()).Schema({gameId:{type:r().Schema.Types.ObjectId,ref:"Game",required:!0},gameName:{type:String,required:!0},amount:{type:String,required:!0},price:{type:String,required:!0},image:{type:String,default:""},popular:{type:Boolean,default:!1},status:{type:String,enum:["active","inactive"],default:"active"},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}});n.pre("save",function(e){this.updatedAt=Date.now(),e()});let o=r().models.Package||r().model("Package",n)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,972],()=>a(295));module.exports=s})();