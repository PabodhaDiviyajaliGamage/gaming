"use strict";(()=>{var e={};e.id=475,e.ids=[475],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8556:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>v,patchFetch:()=>h,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g});var r={};a.r(r),a.d(r,{GET:()=>c,POST:()=>d});var n=a(9303),s=a(8716),o=a(670),i=a(7070),u=a(5285),p=a(8751);async function c(){try{await (0,u.Z)();let e=await p.Z.find({}).sort({createdAt:1});return i.NextResponse.json({success:!0,data:e})}catch(e){return i.NextResponse.json({success:!1,error:e.message},{status:500})}}async function d(e){try{await (0,u.Z)();let t=await e.json(),a=await p.Z.create(t);return i.NextResponse.json({success:!0,data:a},{status:201})}catch(e){return i.NextResponse.json({success:!1,error:e.message},{status:400})}}let l=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/games/route",pathname:"/api/games",filename:"route",bundlePath:"app/api/games/route"},resolvedPagePath:"C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\api\\games\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:f}=l,v="/api/games/route";function h(){return(0,o.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}},5285:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(1185),n=a.n(r);let s=process.env.MONGODB_URI;if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env");let o=global.mongoose;o||(o=global.mongoose={conn:null,promise:null});let i=async function(){if(o.conn)return o.conn;o.promise||(o.promise=n().connect(s,{bufferCommands:!1}).then(e=>e));try{o.conn=await o.promise}catch(e){throw o.promise=null,e}return o.conn}},8751:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(1185),n=a.n(r);let s=new(n()).Schema({name:{type:String,required:!0},image:{type:String,default:""},description:{type:String,default:""},category:{type:String,default:""},status:{type:String,enum:["active","inactive"],default:"active"},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}});s.pre("save",function(e){this.updatedAt=Date.now(),e()});let o=n().models.Game||n().model("Game",s)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,972],()=>a(8556));module.exports=r})();