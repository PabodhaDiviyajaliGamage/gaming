"use strict";(()=>{var e={};e.id=760,e.ids=[760],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9150:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>f,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g});var n={};s.r(n),s.d(n,{DELETE:()=>l,GET:()=>c,PUT:()=>p});var r=s(9303),a=s(8716),o=s(670),i=s(7070),u=s(5285),d=s(8751);async function c(e,{params:t}){try{await (0,u.Z)();let e=await d.Z.findById(t.id);if(!e)return i.NextResponse.json({success:!1,error:"Game not found"},{status:404});return i.NextResponse.json({success:!0,data:e})}catch(e){return i.NextResponse.json({success:!1,error:e.message},{status:500})}}async function p(e,{params:t}){try{await (0,u.Z)();let s=await e.json(),n=await d.Z.findByIdAndUpdate(t.id,s,{new:!0,runValidators:!0});if(!n)return i.NextResponse.json({success:!1,error:"Game not found"},{status:404});return i.NextResponse.json({success:!0,data:n})}catch(e){return i.NextResponse.json({success:!1,error:e.message},{status:400})}}async function l(e,{params:t}){try{if(await (0,u.Z)(),!await d.Z.findByIdAndDelete(t.id))return i.NextResponse.json({success:!1,error:"Game not found"},{status:404});return i.NextResponse.json({success:!0,data:{}})}catch(e){return i.NextResponse.json({success:!1,error:e.message},{status:500})}}let m=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/games/[id]/route",pathname:"/api/games/[id]",filename:"route",bundlePath:"app/api/games/[id]/route"},resolvedPagePath:"C:\\Users\\pabod\\Desktop\\SlGamingHub-frontend\\app\\api\\games\\[id]\\route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:f,staticGenerationAsyncStorage:g,serverHooks:y}=m,v="/api/games/[id]/route";function x(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},5285:(e,t,s)=>{s.d(t,{Z:()=>i});var n=s(1185),r=s.n(n);let a=process.env.MONGODB_URI;if(!a)throw Error("Please define the MONGODB_URI environment variable inside .env");let o=global.mongoose;o||(o=global.mongoose={conn:null,promise:null});let i=async function(){if(o.conn)return o.conn;o.promise||(o.promise=r().connect(a,{bufferCommands:!1}).then(e=>e));try{o.conn=await o.promise}catch(e){throw o.promise=null,e}return o.conn}},8751:(e,t,s)=>{s.d(t,{Z:()=>o});var n=s(1185),r=s.n(n);let a=new(r()).Schema({name:{type:String,required:!0},image:{type:String,default:""},description:{type:String,default:""},category:{type:String,default:""},status:{type:String,enum:["active","inactive"],default:"active"},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}});a.pre("save",function(e){this.updatedAt=Date.now(),e()});let o=r().models.Game||r().model("Game",a)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[276,972],()=>s(9150));module.exports=n})();