"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[484],{9703:function(e,t){t.Z={src:"/_next/static/media/WhatsApp.23140897.png",height:1850,width:1850,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA00lEQVR42mMAAY+r4YwFG6oZJ7yaKsAABZGPUpkY0IHpPS+tuMeZUQZPXBVA/LCniUwMEx9MZ2JYysCYeC23aPaTBWdXvFrzf9qr2ZeNHrspwXWqn3Cqn3B72v+Dr4/8T7qV+2vhi6X/J7ycOgmuwOqo786JN6b9X/pg5fc1Tzf8Wvx0xf/+J1POM6xnYGMAg3UM2n1Xpvyfd2fR/1UP1/1f+mjl/+gb6ZsZQKD1ag8jiPY5HLU4/0zF/Y5r/cUu50PDXS+EqTJgADOQkQigd9GNEQAb+lzO5L7W1gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},8959:function(e,t,s){s.d(t,{Z:function(){return n}});var r=s(5893);s(7294);var a={src:"/_next/static/media/Facebook.04f51598.png",height:2048,width:2048,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAsklEQVR42mOAAeu800yGclMZQWyXqqtMDMjAt/wsWGLL5f/MOfNeMYPYIQ1XwWIMFulHwIypy++zCKWcLnAov7w3oPmmBUjMtRpq0qTph9gZ/Pftaplx5f/GvU//K+VduvT//3+ENX0zT3Iz2G9/cPrC8/+HT7/4zxB/6n969w1lsKRh9C4WBjBYHrdw9dX/a7bfO8XgeLDn+OXPrAxogHnu8ks6////Z2MgBBqmX2OBsQGe8kh/F8+UYgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},o=s(9703),n=()=>(0,r.jsx)("div",{className:" p-6",children:(0,r.jsxs)("footer",{className:"bg-orange-400 rounded-2xl text-white mt-10 p-6",children:[(0,r.jsx)("h2",{className:"text-3xl p-4 font-bold text-center",children:"Contact Us"}),(0,r.jsx)("p",{className:"text-lg font-bold text-center",children:"077 304 3667"}),(0,r.jsx)("p",{className:"text-lg font-bold text-center",children:"slgaminghub09@gmail.com"}),(0,r.jsxs)("div",{className:"flex justify-center gap-6 mt-4",children:[(0,r.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:a,alt:"Facebook",className:"w-12 h-12 hover:scale-110 transition duration-300"})}),(0,r.jsx)("a",{href:"https://wa.me/+94773043667?text=Hi!_I_need_help_with_SLGamingHub_ID_Topup_Center_services.*",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:o.Z,alt:"WhatsApp",className:"w-12 h-12 hover:scale-110 transition duration-300"})})]}),(0,r.jsxs)("div",{className:"mt-6 text-lg font-bold text-center pb-6",children:[(0,r.jsx)("p",{children:"Thank you for visiting SL Gaming Hub"}),(0,r.jsx)("p",{children:"We hope you find the perfect package for your gaming needs!"}),(0,r.jsx)("p",{children:"Happy Gaming!"})]})]})})},2280:function(e,t,s){s.d(t,{Z:function(){return x}});var r=s(5893),a=s(7294),o={src:"/_next/static/media/logo.f99e1c8b.jpeg",height:1280,width:1046,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgABwMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABwEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAAngOr/8QAHRABAQABBAMAAAAAAAAAAAAAAgEDAAQFEzEyYf/aAAgBAQABPwAPYDj524saKh9Xa655vzX/xAAbEQACAQUAAAAAAAAAAAAAAAABAhIAESIxsf/aAAgBAgEBPwCEyxLMMjo25X//xAAbEQACAQUAAAAAAAAAAAAAAAABAgAREjEysf/aAAgBAwEBPwAvaFAVdRkV7P/Z",blurWidth:7,blurHeight:8},n=s(1379),l=s(7066),i=s(8808);function c(e){let{userId:t,onClose:s}=e,[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),[m,g]=(0,a.useState)(""),x=(0,n.s0)(),h=async()=>{if(!o.trim()){g("❌ Please enter OTP");return}u(!0);try{let e={tempUserId:t,code:o};console.log("Submitting OTP data:",e);let r=await l.Z.post((0,i.kG)("/api/users/email_verfy"),e);console.log(r.data),console.log(t),r.data?(r.data.token&&(localStorage.setItem("token",r.data.token),console.log("Token saved from OTP verification")),g("✅ OTP Verified! Account Activated."),setTimeout(()=>{s(),x("/"),window.location.reload()},2e3)):g(" Invalid OTP, try again.")}catch(e){g(" Error verifying OTP")}u(!1)};return(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50",children:(0,r.jsxs)("div",{className:"max-w-md w-full mx-auto bg-gray-900 text-white rounded-xl shadow-lg p-6 space-y-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-300",children:"Enter OTP"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Please enter the OTP sent to your email."}),(0,r.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Enter OTP",className:"w-full p-2 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"}),(0,r.jsx)("button",{className:"w-full px-4 py-2 bg-orange-400 hover:bg-orange-500 rounded-lg font-semibold",onClick:h,disabled:d,children:d?"Verifying...":"Submit OTP"}),m&&(0,r.jsx)("p",{className:"text-center text-sm",children:m}),(0,r.jsx)("button",{onClick:s,className:"w-full px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg font-semibold",children:"Close"})]})})}function d(e){let{onClose:t,onShowLogin:s,onShowReset:o}=e,[d,u]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[b,A]=(0,a.useState)(null),[N,y]=(0,a.useState)("");(0,n.s0)();let[j,w]=(0,a.useState)({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:"",role:"customer"}),v=e=>{let{name:t,value:s}=e.target;w(e=>({...e,[t]:s})),y("")};async function k(e){if(e.preventDefault(),!j.firstName||!j.lastName||!j.email||!j.phone||!j.password||!j.confirmPassword){y("Please fill all required fields!");return}if(j.password!==j.confirmPassword){y("Passwords do not match!");return}f(!0),y("");try{console.log("Attempting registration with:",{name:"".concat(j.firstName," ").concat(j.lastName),email:j.email,phone:j.phone});let e=await l.Z.post((0,i.kG)("/api/users/auth/register"),{name:"".concat(j.firstName," ").concat(j.lastName),email:j.email,password:j.password,confirmPassword:j.confirmPassword,phone:j.phone,role:j.role});e.data&&(console.log("Registration response:",e.data),alert("Registration successful! Please check your email for OTP."),A(e.data.tempUserId),h(!0),w({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:"",role:"customer"}))}catch(e){if(console.error("Registration error:",e),e.response){var t,s;console.error("Response data:",e.response.data),console.error("Response status:",e.response.status),y((null===(t=e.response.data)||void 0===t?void 0:t.message)||(null===(s=e.response.data)||void 0===s?void 0:s.error)||"Server error: ".concat(e.response.status))}else e.request?(console.error("No response received:",e.request),y("No response from server. Please check your connection.")):(console.error("Error setting up request:",e.message),y("Registration failed: ".concat(e.message)))}f(!1)}return(0,r.jsxs)("div",{className:"max-w-md w-full mx-auto bg-gray-900 bg-opacity-90 text-white rounded-xl shadow-lg p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-300",children:"Welcome to"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-orange-400",children:"SL Gaming Hub"})]}),(0,r.jsxs)("form",{onSubmit:k,className:"space-y-4",children:["function"==typeof s&&(0,r.jsxs)("div",{className:"flex justify-center gap-3 mb-4",children:[(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg font-semibold",onClick:s,children:"Login"}),"function"==typeof o&&(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg font-semibold",onClick:o,children:"Reset"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["First Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"firstName",value:j.firstName,onChange:v,placeholder:"First name",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Last Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"lastName",value:j.lastName,onChange:v,placeholder:"Last name",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Email ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"email",name:"email",value:j.email,onChange:v,placeholder:"Email address",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Phone ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"phone",value:j.phone,onChange:v,placeholder:"Phone number",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Password ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:d?"text":"password",name:"password",value:j.password,onChange:v,placeholder:"Create password",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"}),(0,r.jsx)("span",{className:"absolute right-3 top-2.5 cursor-pointer text-gray-400 hover:text-white",onClick:()=>u(!d),children:"\uD83D\uDC41"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Confirm Password ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:m?"text":"password",name:"confirmPassword",value:j.confirmPassword,onChange:v,placeholder:"Confirm password",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-orange-400"}),(0,r.jsx)("span",{className:"absolute right-3 top-2.5 cursor-pointer text-gray-400 hover:text-white",onClick:()=>g(!m),children:"\uD83D\uDC41"})]})]}),N&&(0,r.jsx)("p",{className:"text-red-400 text-sm",children:N}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg font-semibold disabled:opacity-50",disabled:p,children:p?"Registering...":"Register"}),"function"==typeof t&&(0,r.jsx)("button",{type:"button",className:"w-full px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg font-semibold",onClick:()=>{"function"==typeof t&&t()},disabled:p,children:"Close"})]})]}),(0,r.jsx)("div",{className:"text-center space-y-2 mt-4",children:(0,r.jsxs)("div",{className:"text-gray-400 text-sm",children:["Already have an account?"," ",(0,r.jsx)(n.rU,{to:"/auth/login",className:"text-blue-400 hover:underline",children:"Login"})]})}),x&&(0,r.jsx)(c,{userId:b,onClose:()=>h(!1)})]})}var u=s(4899);function m(e){var t;let{onClose:s,onShowRegister:o,onShowReset:c}=e,[d,m]=(0,a.useState)(""),[g,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[A,N]=(0,a.useState)(""),y=(0,n.s0)(),j=(null===(t=(0,n.TH)().state)||void 0===t?void 0:t.from)||"/",w=()=>{"function"==typeof s&&s()},v=async()=>{if(!d||!g){N("Please fill in both fields");return}try{let e;b(!0),N("");let t={email:d,password:g};console.log("Attempting login with:",t);try{e=await l.Z.post((0,i.kG)("/api/users/auth/login"),t)}catch(s){console.error("First login attempt failed:",s);try{e=await l.Z.post((0,i.kG)("/api/auth/login"),t)}catch(e){throw console.error("Second login attempt failed:",e),s}}if(console.log("Login response:",e.data),!e.data.token)throw Error("No token received from server");console.log("Token received:",e.data.token.substring(0,20)+"...");let s=!1,r="user",a="",o={};if(e.data.user)e.data.user.role&&(r=e.data.user.role,s="admin"===r,o.role=r),(a=e.data.user.name||e.data.user.firstName||e.data.user.fullName||e.data.user.username||"")&&(o.name=a);else if(e.data.role)r=e.data.role,s="admin"===r,o.role=r,(a=e.data.name||e.data.firstName||e.data.fullName||e.data.username||"")&&(o.name=a);else try{let t=(0,u.TD)(e.data.token);console.log("Decoded token:",t),t&&(t.role&&(r=t.role,s="admin"===r,o.role=r),(a=t.name||t.firstName||t.fullName||t.username||"")&&(o.name=a))}catch(e){console.error("Error decoding token:",e)}(0,u.x4)(e.data.token,o),s?(alert("Admin login successful!"),w(),y("/admin/Order")):(alert("Login successful!"),w(),y(j)),setTimeout(()=>{window.location.reload()},100)}catch(t){if(console.error("Login error:",t),t.response){var e;console.error("Response data:",t.response.data),console.error("Response status:",t.response.status),console.error("Response headers:",t.response.headers),N((null===(e=t.response.data)||void 0===e?void 0:e.message)||"Server error: ".concat(t.response.status))}else t.request?(console.error("No response received:",t.request),N("No response from server. Please check your connection.")):(console.error("Error setting up request:",t.message),N("Login failed: ".concat(t.message)))}finally{b(!1)}},k="function"==typeof s;return(0,r.jsxs)("div",{className:"max-w-md w-full mx-auto bg-gray-900 bg-opacity-90 text-white rounded-xl shadow-lg p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-300",children:"Welcome to"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-orange-400",children:"SL Gaming Hub"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Phone Number or Email ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",placeholder:"Phone number or Email",value:d,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Password ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:h?"text":"password",placeholder:"Password",value:g,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-orange-400"}),(0,r.jsx)("span",{className:"absolute right-3 top-2.5 cursor-pointer text-gray-400 hover:text-white",onClick:()=>p(!h),children:"\uD83D\uDC41"})]})]}),A&&(0,r.jsx)("p",{className:"text-red-400 text-sm",children:A}),(0,r.jsxs)("div",{className:k?"flex justify-between gap-3":"",children:[(0,r.jsx)("button",{className:"w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg font-semibold disabled:opacity-50",onClick:v,disabled:f,children:f?"Logging in...":"Login"}),k&&(0,r.jsx)("button",{className:"w-full px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg font-semibold",onClick:w,children:"Close"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 my-4",children:[(0,r.jsx)("h3",{className:"text-center text-yellow-400 font-medium mb-2",children:"Test Accounts"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-3 rounded",children:[(0,r.jsx)("h4",{className:"text-green-400 font-medium mb-1",children:"Regular User"}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Email: ",(0,r.jsx)("span",{className:"text-white",children:"user@mail.com"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Password: ",(0,r.jsx)("span",{className:"text-white",children:"user@123"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-3 rounded",children:[(0,r.jsx)("h4",{className:"text-blue-400 font-medium mb-1",children:"Admin User"}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Email: ",(0,r.jsx)("span",{className:"text-white",children:"admin@mail.com"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Password: ",(0,r.jsx)("span",{className:"text-white",children:"admin@123"})]})]})]})]}),(0,r.jsxs)("div",{className:"text-center space-y-2 mt-4",children:[(0,r.jsx)(n.rU,{to:"/auth/reset",className:"text-blue-400 hover:underline text-sm block",children:"Forgot password?"}),(0,r.jsxs)("div",{className:"text-gray-400 text-sm",children:["Don't have an account?"," ",(0,r.jsx)(n.rU,{to:"/auth/register",className:"text-blue-400 hover:underline",children:"Register"})]})]})]})}function g(e){let{onClose:t,onShowLogin:s,onShowRegister:o}=e,[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),g=async()=>{if(!c){alert("Please enter your email or phone number.");return}try{m(!0);let e=await l.Z.post((0,i.kG)("/api/auth/send-otp"),{emailOrPhone:c});e.data.success?(alert("OTP sent successfully!"),console.log("Response:",e.data)):alert(e.data.message||"Something went wrong.")}catch(s){var e,t;console.error(s),alert((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to send OTP.")}finally{m(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50",children:(0,r.jsxs)("div",{className:"w-full max-w-sm bg-gradient-to-b from-purple-900 to-purple-950 text-white rounded-2xl shadow-2xl p-6 relative",children:[(0,r.jsx)("button",{onClick:t,className:"absolute top-3 right-3 text-white hover:text-red-400 text-xl",children:"✕"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-center mb-2",children:"Reset Password"}),(0,r.jsx)("p",{className:"text-center text-gray-300 text-sm mb-4",children:"Enter your email or phone to receive an OTP."}),(0,r.jsxs)("div",{className:"flex justify-center gap-2 mb-6",children:[(0,r.jsx)(n.rU,{to:"/auth/Login",children:(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 text-white font-semibold text-sm",children:"Login"})}),(0,r.jsx)(n.rU,{to:"/auth/Register",children:(0,r.jsx)("button",{onClick:o,className:"px-4 py-2 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 text-white font-semibold text-sm",children:"Register"})})]}),(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Email or Phone Number ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Enter your email or phone",className:"w-full p-3 rounded-lg mb-4 text-black"}),(0,r.jsx)("button",{onClick:g,disabled:u,className:"w-full py-3 rounded-lg text-white font-bold ".concat(u?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-purple-500"),children:u?"Sending...":"Send OTP"}),(0,r.jsx)("p",{onClick:s,className:"text-center text-sm mt-3 text-gray-300 cursor-pointer hover:underline",children:"Back to Login"})]})})}s(2603);var x=function(){let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)((0,u.jl)()),[i,c]=(0,a.useState)((0,u.vW)()),[x,h]=(0,a.useState)((0,u.GJ)());(0,a.useEffect)(()=>{let e=()=>{l((0,u.jl)()),c((0,u.vW)()),h((0,u.GJ)())};window.addEventListener("authChange",e);let t=t=>{("token"===t.key||"userRole"===t.key||"userName"===t.key)&&e()};return window.addEventListener("storage",t),()=>{window.removeEventListener("authChange",e),window.removeEventListener("storage",t)}},[]);let p=()=>t("register"),f=()=>t("login"),b=()=>t("reset"),A=()=>t(!1);return(0,r.jsx)("header",{className:"bg-gray-900 text-white shadow-md",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between p-4",children:[(0,r.jsxs)(n.rU,{to:"/",className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",children:[(0,r.jsx)("img",{src:o,alt:"Logo",className:"w-12 h-12 rounded-full border-2 border-white"}),(0,r.jsx)("span",{className:"text-lg font-bold",children:"SL Gaming Hub"})]}),(0,r.jsx)("div",{className:"flex items-center",children:s?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[x&&(0,r.jsx)(n.rU,{to:"/admin/Order",className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold transition",children:"Admin Panel"}),(0,r.jsxs)("div",{className:"text-orange-400 font-medium mr-3",children:["Welcome, ",i||"User"]}),(0,r.jsx)("button",{onClick:()=>{(0,u.kS)()},className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition",children:"Logout"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:f,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition",children:"Login"}),(0,r.jsx)("button",{onClick:p,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg font-semibold transition ml-2",children:"Register"})]})}),"login"===e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-lg p-6 relative",children:[(0,r.jsx)("button",{className:"absolute top-2 right-2 text-white bg-red-600 rounded-full px-2 py-1",onClick:A,children:"✕"}),(0,r.jsx)(m,{onClose:A,onShowRegister:p,onShowReset:b})]})}),"register"===e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-lg p-6 relative",children:[(0,r.jsx)("button",{className:"absolute top-2 right-2 text-white bg-red-600 rounded-full px-2 py-1",onClick:A,children:"✕"}),(0,r.jsx)(d,{onClose:A,onShowLogin:f,onShowReset:b})]})}),"reset"===e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-lg p-6 relative",children:[(0,r.jsx)("button",{className:"absolute top-2 right-2 text-white bg-red-600 rounded-full px-2 py-1",onClick:A,children:"✕"}),(0,r.jsx)(g,{onClose:A,onShowLogin:f,onShowRegister:p})]})})]})})}},2603:function(e,t,s){s.d(t,{Hz:function(){return o}});var r=s(3454);let a=r.env.NEXT_PUBLIC_API_URL||"/api",o={API_BASE_URL:a,API_ENDPOINTS:{auth:{login:"".concat(a,"/auth/login"),register:"".concat(a,"/auth/register"),logout:"".concat(a,"/auth/logout"),verify:"".concat(a,"/auth/verify")},users:"".concat(a,"/users"),games:"".concat(a,"/games"),packages:"".concat(a,"/packages"),orders:"".concat(a,"/orders")},LOGGING_ENABLED:"true"===r.env.VITE_API_LOGGING}},8808:function(e,t,s){s.d(t,{NU:function(){return o},kG:function(){return a}});let r=s(3454).env.NEXT_PUBLIC_API_URL||"/api",a=e=>"".concat(r,"/").concat(e),o=e=>{let t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}},4899:function(e,t,s){s.d(t,{GJ:function(){return c},TD:function(){return r},jl:function(){return n},kS:function(){return o},n5:function(){return d},vW:function(){return i},x4:function(){return a}});let r=e=>{try{let t;if(!e||"string"!=typeof e||!e.includes("."))return console.error("Invalid token format:",e),null;let s=e.split(".");if(3!==s.length)return console.error("Token does not have three parts:",e),null;let r=s[1].replace(/-/g,"+").replace(/_/g,"/");try{let e=atob(r);t=decodeURIComponent(Array.from(e).map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch(a){console.error("Base64 decoding failed:",a);let e=window.atob(r),s=new Uint8Array(e.length);for(let t=0;t<e.length;++t)s[t]=e.charCodeAt(t);t=new TextDecoder().decode(s)}return JSON.parse(t)}catch(e){return console.error("Error decoding token:",e),null}},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};localStorage.setItem("token",e),t.role&&localStorage.setItem("userRole",t.role),t.name&&localStorage.setItem("userName",t.name),window.dispatchEvent(new CustomEvent("authChange",{detail:{isLoggedIn:!0}}))},o=()=>{localStorage.removeItem("token"),localStorage.removeItem("userName"),localStorage.removeItem("userRole"),window.dispatchEvent(new CustomEvent("authChange",{detail:{isLoggedIn:!1}}))},n=()=>!!localStorage.getItem("token"),l=()=>localStorage.getItem("userRole")||"user",i=()=>localStorage.getItem("userName")||"",c=()=>"admin"===l(),d=()=>{try{let e=localStorage.getItem("token");if(!e)return null;let t=r(e);if(!t)return null;return t.id||t._id||t.userId||t.sub||null}catch(e){return console.error("Error getting user ID:",e),null}}}}]);