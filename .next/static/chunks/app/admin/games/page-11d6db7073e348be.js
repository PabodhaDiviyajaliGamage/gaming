(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{5295:function(e,t,a){Promise.resolve().then(a.bind(a,5756))},5756:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var s=a(7437),r=a(2265),l=a(2617);function n(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),[m,g]=(0,r.useState)({name:"",image:"",description:"",status:"active"});(0,r.useEffect)(()=>{u()},[]);let u=async()=>{try{c(!0);let e=await l._W.getAll();t(e.data||[])}catch(e){console.error("Error loading games:",e),alert("Failed to load games: "+e.message)}finally{c(!1)}},x=e=>{d(e),g(e),n(!0)},b=async e=>{if(confirm("Are you sure you want to delete this game?"))try{c(!0),await l._W.delete(e),alert("Game deleted successfully!"),u()}catch(e){console.error("Error deleting game:",e),alert("Failed to delete game: "+e.message)}finally{c(!1)}},h=async e=>{e.preventDefault();try{c(!0),i?(await l._W.update(i._id,m),alert("Game updated successfully!")):(await l._W.create(m),alert("Game added successfully!")),n(!1),u()}catch(e){console.error("Error saving game:",e),alert("Failed to save game: "+e.message)}finally{c(!1)}};return(0,s.jsxs)("div",{className:"text-white",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Games Management"}),(0,s.jsx)("button",{onClick:()=>{d(null),g({name:"",image:"",description:"",status:"active"}),n(!0)},className:"px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition",children:"+ Add New Game"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===e.length?(0,s.jsx)("div",{className:"col-span-3 bg-gray-800 rounded-lg p-8 text-center text-gray-400",children:'No games found. Click "Add New Game" to create one.'}):e.map(e=>(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 hover:shadow-xl transition",children:(0,s.jsxs)("div",{className:"text-center",children:[e.image?(0,s.jsx)("img",{src:e.image,alt:e.name,className:"w-24 h-24 mx-auto mb-3 object-contain rounded-lg"}):(0,s.jsx)("div",{className:"w-24 h-24 mx-auto mb-3 bg-gray-700 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-gray-500 text-sm",children:"No Image"})}),(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.name}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:e.description}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("active"===e.status?"bg-green-500":"bg-red-500"),children:e.status.toUpperCase()})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>x(e),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition",disabled:o,children:"Edit"}),(0,s.jsx)("button",{onClick:()=>b(e._id||e.id),className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition",disabled:o,children:"Delete"})]})]})},e._id||e.id))}),a&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl max-w-md w-full p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:i?"Edit Game":"Add New Game"}),(0,s.jsxs)("form",{onSubmit:h,children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Game Name *"}),(0,s.jsx)("input",{type:"text",value:m.name,onChange:e=>g({...m,name:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Game Image *"}),(0,s.jsx)("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp",onChange:e=>{let t=e.target.files[0];if(t){let e=new FileReader;e.onloadend=()=>{g({...m,image:e.result})},e.readAsDataURL(t)}},className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700",required:!m.image}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Upload PNG, JPG, or WebP image (recommended: 256x256px)"}),m.image&&(0,s.jsxs)("div",{className:"mt-2 p-2 bg-gray-700 rounded",children:[(0,s.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Preview:"}),(0,s.jsx)("img",{src:m.image,alt:"Preview",className:"w-16 h-16 object-contain rounded"}),(0,s.jsx)("button",{type:"button",onClick:()=>g({...m,image:""}),className:"text-xs text-red-400 mt-1 hover:text-red-300",children:"Remove Image"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description *"}),(0,s.jsx)("input",{type:"text",value:m.description,onChange:e=>g({...m,description:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",placeholder:"e.g., Top up diamonds",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status *"}),(0,s.jsxs)("select",{value:m.status,onChange:e=>g({...m,status:e.target.value}),className:"w-full px-4 py-2 rounded bg-gray-700 border border-gray-600",required:!0,children:[(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsx)("button",{type:"submit",className:"flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition",children:i?"Update":"Add"}),(0,s.jsx)("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition",children:"Cancel"})]})]})]})})]})}},2617:function(e,t,a){"use strict";async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch("".concat("/api").concat(e),{headers:{"Content-Type":"application/json",...t.headers},...t}),s=await a.json();if(!a.ok)throw Error(s.error||"API request failed");return s}a.d(t,{Pc:function(){return l},_W:function(){return r},g3:function(){return n},h3:function(){return i}});let r={getAll:()=>s("/games"),getById:e=>s("/games/".concat(e)),create:e=>s("/games",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>s("/games/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>s("/games/".concat(e),{method:"DELETE"})},l={getAll:()=>s("/packages"),getById:e=>s("/packages/".concat(e)),create:e=>s("/packages",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>s("/packages/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>s("/packages/".concat(e),{method:"DELETE"})},n={getAll:()=>s("/orders"),getById:e=>s("/orders/".concat(e)),create:e=>s("/orders",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>s("/orders/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>s("/orders/".concat(e),{method:"DELETE"})},i={getAll:()=>s("/users"),register:e=>s("/users",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>s("/users/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>s("/users/".concat(e),{method:"DELETE"}),login:e=>s("/auth/login",{method:"POST",body:JSON.stringify(e)})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=5295)}),_N_E=e.O()}]);